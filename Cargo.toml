[package]
name = "consola"
version = "0.0.0-alpha.0"
edition = "2024"
license = "MIT"
authors = ["Muntasir Mahmud <muntasir.joypurhat@gmail.com>"]
description = "üê® Elegant Console Logger for Rust and Browser"
repository = "https://github.com/MuntasirSZN/consola-rs"
keywords = ["logging", "console", "ansi", "wasm"]
categories = ["development-tools"]
rust-version = "1.85"
readme = "README.md"

[package.metadata]
# Reserved for future metadata like MSRV or docs.rs config

[features]
default = ["color", "fancy"]
color = ["anstream", "anstyle"]
fancy = ["unicode-width"]
json = ["dep:serde", "dep:serde_json"]
prompt-demand = ["dep:demand"]
wasm = ["dep:wasm-bindgen"]
bridge-log = ["dep:log"]
bridge-tracing = ["dep:tracing", "dep:tracing-subscriber"]
async-reporters = []                                       # placeholder (post-MVP)

[dependencies]
anyhow = "1"
thiserror = "2"
smallvec = { version = "1", features = ["union", "const_new"] }
blake3 = "1"
once_cell = "1"
parking_lot = "0.12"
anstream = { version = "0.6", optional = true }
anstyle = { version = "1", optional = true }
unicode-width = { version = "0.2", optional = true }
serde = { version = "1", features = ["derive"], optional = true }
serde_json = { version = "1", optional = true }
demand = { version = "1.7", optional = true }
wasm-bindgen = { version = "0.2", optional = true }
tracing = { version = "0.1", optional = true }
tracing-subscriber = { version = "0.3", optional = true, features = [
    "fmt",
    "registry",
] }
log = { version = "0.4", optional = true }
strip-ansi-escapes = "0.2"

[dev-dependencies]
insta = { version = "1", features = ["yaml"] }
proptest = "1"
criterion = { version = "0.7", default-features = false, features = ["rayon"] }
assert_fs = "1"
rstest = "0.26"
wasm-bindgen-test = { version = "0.3" }

[profile.release]
codegen-units = 1
lto = true

[profile.bench]
codegen-units = 1
lto = true

[workspace.metadata.cargo-nextest]
# placeholder for future nextest config
